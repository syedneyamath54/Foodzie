{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nvar TASKS_KEY = '@taskflow_tasks';\nexport var getTasks = function () {\n  var _ref = _asyncToGenerator(function* () {\n    try {\n      var tasksJson = yield AsyncStorage.getItem(TASKS_KEY);\n      if (tasksJson !== null) {\n        return JSON.parse(tasksJson);\n      }\n      return [];\n    } catch (error) {\n      console.error('Error loading tasks:', error);\n      return [];\n    }\n  });\n  return function getTasks() {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var addTask = function () {\n  var _ref2 = _asyncToGenerator(function* (task) {\n    try {\n      var tasks = yield getTasks();\n      var updatedTasks = [].concat(_toConsumableArray(tasks), [task]);\n      yield AsyncStorage.setItem(TASKS_KEY, JSON.stringify(updatedTasks));\n      return updatedTasks;\n    } catch (error) {\n      console.error('Error adding task:', error);\n      throw error;\n    }\n  });\n  return function addTask(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var updateTask = function () {\n  var _ref3 = _asyncToGenerator(function* (taskId, updatedTask) {\n    try {\n      var tasks = yield getTasks();\n      var taskIndex = tasks.findIndex(function (task) {\n        return task.id === taskId;\n      });\n      if (taskIndex !== -1) {\n        tasks[taskIndex] = updatedTask;\n        yield AsyncStorage.setItem(TASKS_KEY, JSON.stringify(tasks));\n        return tasks;\n      }\n      throw new Error('Task not found');\n    } catch (error) {\n      console.error('Error updating task:', error);\n      throw error;\n    }\n  });\n  return function updateTask(_x2, _x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport var deleteTask = function () {\n  var _ref4 = _asyncToGenerator(function* (taskId) {\n    try {\n      var tasks = yield getTasks();\n      var updatedTasks = tasks.filter(function (task) {\n        return task.id !== taskId;\n      });\n      yield AsyncStorage.setItem(TASKS_KEY, JSON.stringify(updatedTasks));\n      return updatedTasks;\n    } catch (error) {\n      console.error('Error deleting task:', error);\n      throw error;\n    }\n  });\n  return function deleteTask(_x4) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport var clearAllTasks = function () {\n  var _ref5 = _asyncToGenerator(function* () {\n    try {\n      yield AsyncStorage.removeItem(TASKS_KEY);\n      return [];\n    } catch (error) {\n      console.error('Error clearing tasks:', error);\n      throw error;\n    }\n  });\n  return function clearAllTasks() {\n    return _ref5.apply(this, arguments);\n  };\n}();\nexport var getTaskStats = function () {\n  var _ref6 = _asyncToGenerator(function* () {\n    try {\n      var tasks = yield getTasks();\n      var now = new Date();\n      var stats = {\n        total: tasks.length,\n        completed: tasks.filter(function (task) {\n          return task.completed;\n        }).length,\n        pending: tasks.filter(function (task) {\n          return !task.completed;\n        }).length,\n        overdue: tasks.filter(function (task) {\n          if (task.completed) return false;\n          if (!task.dueDate) return false;\n          return new Date(task.dueDate) < now;\n        }).length\n      };\n      return stats;\n    } catch (error) {\n      console.error('Error getting task stats:', error);\n      return {\n        total: 0,\n        completed: 0,\n        pending: 0,\n        overdue: 0\n      };\n    }\n  });\n  return function getTaskStats() {\n    return _ref6.apply(this, arguments);\n  };\n}();\nexport var getTasksByPriority = function () {\n  var _ref7 = _asyncToGenerator(function* (priority) {\n    try {\n      var tasks = yield getTasks();\n      return tasks.filter(function (task) {\n        return task.priority === priority;\n      });\n    } catch (error) {\n      console.error('Error getting tasks by priority:', error);\n      return [];\n    }\n  });\n  return function getTasksByPriority(_x5) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nexport var getCompletedTasksCount = function () {\n  var _ref8 = _asyncToGenerator(function* () {\n    try {\n      var tasks = yield getTasks();\n      return tasks.filter(function (task) {\n        return task.completed;\n      }).length;\n    } catch (error) {\n      console.error('Error getting completed tasks count:', error);\n      return 0;\n    }\n  });\n  return function getCompletedTasksCount() {\n    return _ref8.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["AsyncStorage","TASKS_KEY","getTasks","_ref","_asyncToGenerator","tasksJson","getItem","JSON","parse","error","console","apply","arguments","addTask","_ref2","task","tasks","updatedTasks","concat","_toConsumableArray","setItem","stringify","_x","updateTask","_ref3","taskId","updatedTask","taskIndex","findIndex","id","Error","_x2","_x3","deleteTask","_ref4","filter","_x4","clearAllTasks","_ref5","removeItem","getTaskStats","_ref6","now","Date","stats","total","length","completed","pending","overdue","dueDate","getTasksByPriority","_ref7","priority","_x5","getCompletedTasksCount","_ref8"],"sources":["/workspace/src/utils/taskStorage.js"],"sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst TASKS_KEY = '@taskflow_tasks';\n\nexport const getTasks = async () => {\n  try {\n    const tasksJson = await AsyncStorage.getItem(TASKS_KEY);\n    if (tasksJson !== null) {\n      return JSON.parse(tasksJson);\n    }\n    return [];\n  } catch (error) {\n    console.error('Error loading tasks:', error);\n    return [];\n  }\n};\n\nexport const addTask = async (task) => {\n  try {\n    const tasks = await getTasks();\n    const updatedTasks = [...tasks, task];\n    await AsyncStorage.setItem(TASKS_KEY, JSON.stringify(updatedTasks));\n    return updatedTasks;\n  } catch (error) {\n    console.error('Error adding task:', error);\n    throw error;\n  }\n};\n\nexport const updateTask = async (taskId, updatedTask) => {\n  try {\n    const tasks = await getTasks();\n    const taskIndex = tasks.findIndex(task => task.id === taskId);\n    \n    if (taskIndex !== -1) {\n      tasks[taskIndex] = updatedTask;\n      await AsyncStorage.setItem(TASKS_KEY, JSON.stringify(tasks));\n      return tasks;\n    }\n    \n    throw new Error('Task not found');\n  } catch (error) {\n    console.error('Error updating task:', error);\n    throw error;\n  }\n};\n\nexport const deleteTask = async (taskId) => {\n  try {\n    const tasks = await getTasks();\n    const updatedTasks = tasks.filter(task => task.id !== taskId);\n    await AsyncStorage.setItem(TASKS_KEY, JSON.stringify(updatedTasks));\n    return updatedTasks;\n  } catch (error) {\n    console.error('Error deleting task:', error);\n    throw error;\n  }\n};\n\nexport const clearAllTasks = async () => {\n  try {\n    await AsyncStorage.removeItem(TASKS_KEY);\n    return [];\n  } catch (error) {\n    console.error('Error clearing tasks:', error);\n    throw error;\n  }\n};\n\nexport const getTaskStats = async () => {\n  try {\n    const tasks = await getTasks();\n    const now = new Date();\n    \n    const stats = {\n      total: tasks.length,\n      completed: tasks.filter(task => task.completed).length,\n      pending: tasks.filter(task => !task.completed).length,\n      overdue: tasks.filter(task => {\n        if (task.completed) return false;\n        if (!task.dueDate) return false;\n        return new Date(task.dueDate) < now;\n      }).length,\n    };\n    \n    return stats;\n  } catch (error) {\n    console.error('Error getting task stats:', error);\n    return {\n      total: 0,\n      completed: 0,\n      pending: 0,\n      overdue: 0,\n    };\n  }\n};\n\nexport const getTasksByPriority = async (priority) => {\n  try {\n    const tasks = await getTasks();\n    return tasks.filter(task => task.priority === priority);\n  } catch (error) {\n    console.error('Error getting tasks by priority:', error);\n    return [];\n  }\n};\n\nexport const getCompletedTasksCount = async () => {\n  try {\n    const tasks = await getTasks();\n    return tasks.filter(task => task.completed).length;\n  } catch (error) {\n    console.error('Error getting completed tasks count:', error);\n    return 0;\n  }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}